<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<AnchorPane prefHeight="933.0" prefWidth="1280.0" styleClass="dashboard-container" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="gm.rahmanproperties.optibank.controllers.admin.DashboardAdminController">

    <stylesheets>
        <URL value="@../styles/dashboard.css" />
    </stylesheets>

    <children>
        <TabPane prefHeight="933.0" prefWidth="1280.0" tabClosingPolicy="UNAVAILABLE">
            <tabs>

                <!-- Tab 1: Tableau de Bord -->
                <Tab text="Analyse Globale">
                    <AnchorPane>
                        <children>
                            <Text layoutX="451.0" layoutY="50.0" text="Tableau de Bord Admin">
                                <font>
                                    <Font name="JetBrains Mono Regular" size="30.0" />
                                </font>
                            </Text>

                            <!-- Card 1 -->
                            <Pane layoutX="60.0" layoutY="100.0" prefHeight="110.0" prefWidth="239.0" styleClass="dashboard-card">
                                <children>
                                    <Text layoutX="47.0" layoutY="32.0" styleClass="card-value" text="Total Clients" />
                                    <Text fx:id="totalClientsLabel" fill="#078d65" layoutX="106.0" layoutY="78.0" styleClass="section-title" text="0">
                              <font>
                                 <Font name="System Bold" size="35.0" />
                              </font></Text>
                                </children>
                            </Pane>

                            <!-- Card 2 -->
                            <Pane layoutX="498.0" layoutY="100.0" prefHeight="110.0" prefWidth="239.0" styleClass="dashboard-card">
                                <children>
                                    <Text layoutX="15.0" layoutY="32.0" styleClass="card-value" text="Total Transaction" />
                                    <Text fx:id="totalTransactionsLabel" fill="#078d65" layoutX="104.0" layoutY="78.0" styleClass="section-title" text="0">
                              <font>
                                 <Font name="System Bold" size="35.0" />
                              </font></Text>
                                </children>
                            </Pane>

                            <!-- Card 3 -->
                            <Pane layoutX="941.0" layoutY="100.0" prefHeight="110.0" prefWidth="239.0" styleClass="dashboard-card">
                                <children>
                                    <Text layoutX="47.0" layoutY="32.0" styleClass="card-value" text="Total Credits" />
                                    <Text fx:id="totalCreditsLabel" fill="#078d65" layoutX="115.0" layoutY="78.0" styleClass="section-title" text="0">
                              <font>
                                 <Font name="System Bold" size="35.0" />
                              </font></Text>
                                </children>
                            </Pane>

                            <!-- Grid & Charts -->
                            <GridPane layoutX="30.0" layoutY="250.0" prefHeight="600.0" prefWidth="1220.0">
                                <columnConstraints>
                                    <ColumnConstraints prefWidth="600" />
                                    <ColumnConstraints prefWidth="600" />
                                </columnConstraints>
                                <rowConstraints>
                                    <RowConstraints prefHeight="300" />
                                    <RowConstraints prefHeight="300" />
                                </rowConstraints>

                                <children>
                                    <TableView fx:id="transactionsTable" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                        <columns>
                                            <TableColumn prefWidth="150" text="Date" />
                                            <TableColumn prefWidth="150" text="Montant" />
                                            <TableColumn prefWidth="100" text="Type" />
                                        </columns>
                                    </TableView>

                                    <TableView fx:id="creditsTable" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                        <columns>
                                            <TableColumn prefWidth="150" text="Référence" />
                                            <TableColumn prefWidth="150" text="Montant" />
                                            <TableColumn prefWidth="100" text="Statut" />
                                        </columns>
                                    </TableView>

                                    <TableView fx:id="ticketsTable" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                        <columns>
                                            <TableColumn prefWidth="200" text="Sujet" />
                                            <TableColumn prefWidth="100" text="Priorité" />
                                            <TableColumn prefWidth="100" text="Statut" />
                                        </columns>
                                    </TableView>

                                    <LineChart fx:id="statisticsChart" title="Statistiques" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                        <xAxis>
                                            <CategoryAxis label="Mois" />
                                        </xAxis>
                                        <yAxis>
                                            <NumberAxis label="Montant (XOF)" />
                                        </yAxis>
                                    </LineChart>
                                </children>
                            </GridPane>
                        </children>
                    </AnchorPane>
                </Tab>

                <!-- Tab 2: Ajouter Client -->
                <Tab text="Ajouter Compte">
                    <VBox alignment="TOP_CENTER" prefHeight="743.0" prefWidth="1280.0" spacing="20" style="-fx-padding: 40;" styleClass="form-container" stylesheets="@../styles/auth.css">
                        <Text styleClass="section-title" text="Ajouter un nouveau Compte Client">
                     <font>
                        <Font name="JetBrains Mono Regular" size="30.0" />
                     </font></Text>
                        <TextField fx:id="nomField" prefHeight="41.0" prefWidth="1200.0" promptText="Nom" styleClass="input-field">
                     <font>
                        <Font name="JetBrains Mono Regular" size="15.0" />
                     </font></TextField>
                  <TextField fx:id="prenomField" prefHeight="41.0" prefWidth="1200.0" promptText="Prenom" styleClass="input-field">
                     <font>
                        <Font name="JetBrains Mono Regular" size="15.0" />
                     </font>
                  </TextField>
                  <TextField fx:id="emailField" prefHeight="41.0" prefWidth="1200.0" promptText="Email" styleClass="input-field">
                     <font>
                        <Font name="JetBrains Mono Regular" size="15.0" />
                     </font>
                  </TextField>
                  <TextField fx:id="usernameField" prefHeight="41.0" prefWidth="1200.0" promptText="Username" styleClass="input-field">
                     <font>
                        <Font name="JetBrains Mono Regular" size="15.0" />
                     </font>
                  </TextField>
                  <TextField fx:id="telephoneField" prefHeight="41.0" prefWidth="1200.0" promptText="Telephone" styleClass="input-field">
                     <font>
                        <Font name="JetBrains Mono Regular" size="15.0" />
                     </font>
                  </TextField>
                  <TextField fx:id="adresseField" prefHeight="41.0" prefWidth="1200.0" promptText="Adresse" styleClass="input-field">
                     <font>
                        <Font name="JetBrains Mono Regular" size="15.0" />
                     </font>
                  </TextField>
                  <TextField fx:id="soldeField" prefHeight="41.0" prefWidth="1200.0" promptText="Solde" styleClass="input-field">
                     <font>
                        <Font name="JetBrains Mono Regular" size="15.0" />
                     </font>
                  </TextField>
                  <PasswordField fx:id="passwordField" prefHeight="41.0" prefWidth="1200.0" promptText="Mot de passe" styleClass="input-field">
                     <font>
                        <Font name="JetBrains Mono Regular" size="15.0" />
                     </font>
                  </PasswordField>
                  <ComboBox fx:id="cbbTypeCompte" prefHeight="44.0" prefWidth="1198.0" promptText="Type Compte" styleClass="input-field" />
                  <Button mnemonicParsing="false" onAction="#handleSave" prefHeight="46.0" prefWidth="265.0" styleClass="button-primary" text="Button" />
                    </VBox>
                </Tab>

                <!-- Tab 3: Placeholder -->
                <Tab text="Activer/Desactiver Compte">
                    <AnchorPane>
                        <Text layoutX="443.0" layoutY="133.0" text="Choisir Client">
                     <font>
                        <Font name="JetBrains Mono Regular" size="35.0" />
                     </font></Text>
                  <ComboBox fx:id="listClient" layoutX="392.0" layoutY="182.0" prefHeight="48.0" prefWidth="438.0" />
                  <Button fx:id="btnButton" layoutX="426.0" layoutY="278.0" mnemonicParsing="false" onAction="#handleAction" prefHeight="42.0" prefWidth="358.0" styleClass="button-primary" stylesheets="@../styles/auth.css" text="Button" />
                  <Label fx:id="messageField" layoutX="574.0" layoutY="248.0" />
                    </AnchorPane>
                </Tab>

            </tabs>
        </TabPane>
    </children>
</AnchorPane>
