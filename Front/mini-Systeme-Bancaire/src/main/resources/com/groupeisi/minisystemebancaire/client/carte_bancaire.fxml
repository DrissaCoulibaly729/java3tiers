<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import de.jensd.fx.glyphs.materialdesignicons.*?>

<StackPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
         fx:controller="gm.rahmanproperties.optibank.controllers.client.CarteBancaireCreditCardController"
         styleClass="root">

    <!-- Loading Spinner -->
    <JFXSpinner fx:id="loadingSpinner" styleClass="spinner" visible="false"/>

    <!-- Main Content -->
    <VBox spacing="20" styleClass="card-manager-container">
        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>

        <!-- Card Display -->
        <VBox fx:id="cardContainer" spacing="15" styleClass="credit-card">
            <HBox alignment="CENTER_LEFT" spacing="10">
                <MaterialDesignIconView glyphName="CREDIT_CARD" size="24"/>
                <Label text="Carte bancaire" styleClass="card-title"/>
            </HBox>

            <VBox spacing="5">
                <Label text="Numéro de carte" styleClass="field-label"/>
                <Label fx:id="cardNumberLabel" styleClass="card-number"/>
            </VBox>

            <HBox spacing="30">
                <VBox spacing="5">
                    <Label text="Date d'expiration" styleClass="field-label"/>
                    <Label fx:id="cardExpiryLabel" styleClass="card-data"/>
                </VBox>

                <VBox spacing="5">
                    <Label text="Statut" styleClass="field-label"/>
                    <Label fx:id="cardStatusLabel" styleClass="card-status"/>
                </VBox>
            </HBox>
        </VBox>

        <!-- Card Request Form -->
        <VBox spacing="15" styleClass="form-container">
            <Label text="Gestion de la carte" styleClass="section-title"/>

<!--            <VBox spacing="5" visible="${!cardContainer.visible}">-->
<!--                <Label text="Code PIN (4 chiffres)" styleClass="field-label"/>-->
<!--                <JFXTextField fx:id="pinTextField"-->
<!--                            promptText="Entrez votre code PIN"-->
<!--                            styleClass="pin-field"/>-->
<!--            </VBox>-->

            <HBox spacing="10" alignment="CENTER_LEFT">
                <JFXButton fx:id="requestCardButton"
                          text="Demander une carte"
                          buttonType="RAISED"
                          onAction="#requestCard"
                          styleClass="button-primary">
                    <graphic>
                        <MaterialDesignIconView glyphName="CREDIT_CARD_PLUS" size="18"/>
                    </graphic>
                </JFXButton>

                <JFXButton fx:id="blockCardButton"
                          text="Bloquer"
                          buttonType="RAISED"
                          onAction="#blockCard"
                          styleClass="button-danger">
                    <graphic>
                        <MaterialDesignIconView glyphName="LOCK" size="18"/>
                    </graphic>
                </JFXButton>

                <JFXButton fx:id="unblockCardButton"
                          text="Débloquer"
                          buttonType="RAISED"
                          onAction="#unblockCard"
                          styleClass="button-success">
                    <graphic>
                        <MaterialDesignIconView glyphName="LOCK_OPEN" size="18"/>
                    </graphic>
                </JFXButton>
            </HBox>
        </VBox>
    </VBox>

</StackPane>
