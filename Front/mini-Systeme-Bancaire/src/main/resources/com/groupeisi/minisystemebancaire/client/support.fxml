<?xml version="1.0" encoding="UTF-8"?>

<?import com.jfoenix.controls.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import de.jensd.fx.glyphs.materialdesignicons.*?>

<StackPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
         fx:controller="gm.rahmanproperties.optibank.controllers.client.SupportClientController"
         styleClass="root">

    <!-- Loading Spinner -->
    <JFXSpinner fx:id="loadingSpinner" styleClass="spinner" visible="false"/>

    <!-- Main Content -->
    <VBox spacing="20" styleClass="support-container">
        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>

        <!-- Nouveau Ticket Section -->
        <VBox spacing="15" styleClass="new-ticket-container">
            <Label text="Nouveau ticket de support" styleClass="section-title"/>

            <VBox spacing="5">
                <Label text="Sujet" styleClass="field-label"/>
                <JFXTextField fx:id="sujetField"
                            promptText="Entrez le sujet de votre demande"
                            styleClass="input-field"/>
            </VBox>

            <VBox spacing="5">
                <Label text="Description" styleClass="field-label"/>
                <JFXTextArea fx:id="descriptionField"
                            promptText="Décrivez votre problème en détail"
                            styleClass="input-field"
                            prefRowCount="4"
                            wrapText="true"/>
            </VBox>

            <HBox alignment="CENTER_RIGHT">
                <JFXButton fx:id="envoyerButton"
                          text="Envoyer"
                          buttonType="RAISED"
                          onAction="#envoyerTicket"
                          styleClass="button-primary">
                    <graphic>
                        <MaterialDesignIconView glyphName="SEND" size="18"/>
                    </graphic>
                </JFXButton>
            </HBox>
        </VBox>

        <!-- Liste des Tickets -->
        <VBox spacing="10" VBox.vgrow="ALWAYS">
            <Label text="Mes tickets" styleClass="section-title"/>

            <JFXListView fx:id="ticketsListView"
                        styleClass="tickets-list"
                        VBox.vgrow="ALWAYS"/>
        </VBox>
    </VBox>
</StackPane>
